<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard â€“ CapTcha Tool</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>body { font-family: 'Inter', sans-serif; }</style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen" x-data="dashboard()">

<!-- Navbar -->
<header class="fixed top-0 w-full z-50 glass border-b border-white/10">
  <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
    <a href="/" class="flex items-center space-x-2">
      <img src="assets/logo.svg" alt="CapTcha Tool" class="w-10 h-10">
      <span class="text-xl font-bold">CapTcha Tool</span>
    </a>
    <div class="flex items-center space-x-4">
      <button @click="copyKey()" class="text-sm px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-lg">Copy API Key</button>
      <a href="index.html" class="text-sm text-red-600 hover:underline">Logout</a>
    </div>
  </nav>
</header>

<div class="pt-20 container mx-auto px-4">
  <h1 class="text-3xl font-bold mb-8">Welcome back, <span x-text="user.name"></span>!</h1>

  <!-- Stats -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
      <p class="text-sm text-gray-600 dark:text-gray-400">Solves Today</p>
      <p class="text-3xl font-bold" x-text="stats.today"></p>
    </div>
    <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
      <p class="text-sm text-gray-600 dark:text-gray-400">Success Rate</p>
      <p class="text-3xl font-bold text-green-600" x-text="stats.success + '%'"></p>
    </div>
    <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
      <p class="text-sm text-gray-600 dark:text-gray-400">Avg Solve Time</p>
      <p class="text-3xl font-bold" x-text="stats.time + 's'"></p>
    </div>
    <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
      <p class="text-sm text-gray-600 dark:text-gray-400">Plan</p>
      <p class="text-3xl font-bold text-indigo-600" x-text="user.plan"></p>
    </div>
  </div>

  <!-- Chart -->
  <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 mb-8">
    <h2 class="text-xl font-semibold mb-4">Solve Activity (Last 7 Days)</h2>
    <canvas id="solveChart" height="100"></canvas>
  </div>

  <!-- API Key -->
  <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
    <h2 class="text-xl font-semibold mb-4">Your API Key</h2>
    <div class="flex items-center space-x-3">
      <code class="flex-1 bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg font-mono text-sm" x-text="apiKey"></code>
      <button @click="regenerateKey()" classInstalled="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition">Regenerate</button>
    </div>
    <p class="text-sm text-gray-600 dark:text-gray-400 mt-3">Use this key in your scripts. Keep it secret!</p>
  </div>
</div>

<script>
function dashboard() {
  return {
    user: { name: 'Alex Rivera', plan: 'Pro' },
    stats: { today: 842, success: 99.4, time: 1.1 },
    apiKey: 'ct_sk_8f9e2a1b3c4d5e6f7g8h9i0j1k2l3m4n',
    copyKey() { navigator.clipboard.writeText(this.apiKey); alert('Copied!'); },
    regenerateKey() { if(confirm('Regenerate API key?')) this.apiKey = 'ct_sk_' + Math.random().toString(36).substr(2, 32); },
    init() {
      const ctx = document.getElementById('solveChart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
          datasets: [{
            label: 'Solves',
            data: [120, 190, 300, 250, 400, 380, 842],
            borderColor: '#6366f1',
            backgroundColor: 'rgba(99, 102, 241, 0.1)',
            tension: 0.4,
            fill: true
          }]
        },
        options: { responsive: true, plugins: { legend: { display: false } } }
      });
    }
  }
}
</script>
</body>
</html>
